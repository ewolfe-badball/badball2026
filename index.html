<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Badball Randomizer 2026</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Orbitron:wght@400;700;900&family=DM+Mono:wght@400;500&family=DM+Sans:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #080810; --surface: #0f0f1c; --surface2: #16162a;
    --gold: #f0c040; --gold2: #ffda70; --red: #e84040;
    --blue: #40a0e8; --green: #40e880; --text: #ffffff;
    --muted: #ffffff; --border: #22223a;
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  body { background:var(--bg); color:var(--text); font-family:'DM Sans',sans-serif; min-height:100vh; }

  .page { display:none; } .page.active { display:block; }

  .nav-btn { display:inline-block; padding:0.5rem 1.25rem; font-family:'DM Mono',monospace; font-size:0.78rem; letter-spacing:1.5px; text-transform:uppercase; cursor:pointer; transition:all 0.2s; background:transparent; border:2px solid var(--blue); color:var(--blue); white-space:nowrap; }
  .nav-btn:hover { background:rgba(64,160,232,0.12); }
  .nav-btn.gold-nav { border-color:var(--gold); color:var(--gold); }
  .nav-btn.gold-nav:hover { background:rgba(240,192,64,0.12); }

  /* RANDOMIZER */
  .header { text-align:center; padding:2rem 1rem 1.5rem; border-bottom:1px solid var(--border); background:radial-gradient(ellipse at top,rgba(240,192,64,0.08) 0%,transparent 60%); }
  .title-main { font-family:'Orbitron',monospace; font-weight:900; font-size:clamp(1.6rem,4vw,3rem); color:var(--gold); letter-spacing:6px; text-shadow:0 0 40px rgba(240,192,64,0.5),0 0 80px rgba(240,192,64,0.2); line-height:1; }
  .title-sub { font-family:'DM Mono',monospace; font-size:0.75rem; color:var(--muted); letter-spacing:4px; text-transform:uppercase; margin-top:0.5rem; }
  .progress-banner { background:var(--surface); border-bottom:1px solid var(--border); padding:0.75rem 1.5rem; display:flex; align-items:center; gap:1rem; flex-wrap:wrap; }
  .prog-text { font-family:'DM Mono',monospace; font-size:0.75rem; color:var(--muted); white-space:nowrap; }
  .prog-text strong { color:var(--gold); font-size:1rem; }
  .prog-bar-wrap { flex:1; min-width:120px; max-width:300px; height:6px; background:var(--border); }
  .prog-bar-fill { height:100%; background:var(--gold); transition:width 0.5s ease; box-shadow:0 0 8px rgba(240,192,64,0.5); width:0%; }
  .reset-btn { margin-left:auto; background:none; border:1px solid var(--border); color:var(--muted); font-family:'DM Mono',monospace; font-size:0.7rem; padding:0.35rem 0.9rem; cursor:pointer; letter-spacing:1px; text-transform:uppercase; transition:all 0.2s; }
  .reset-btn:hover { border-color:var(--red); color:var(--red); }
  .main { max-width:1100px; margin:0 auto; padding:1.5rem; }
  .instructions { background:var(--surface2); border:1px solid var(--border); border-left:4px solid var(--gold); padding:1rem 1.25rem; margin-bottom:1.5rem; font-family:'DM Sans',sans-serif; font-size:0.88rem; color:#ffffff; font-weight:600; line-height:1.8; }
  .instructions strong { color:#ffffff; font-weight:800; }
  .instructions .blue-text  { color:var(--blue);  font-weight:600; }
  .instructions .gold-text  { color:var(--gold);  font-weight:600; }
  .instructions .green-text { color:var(--green); font-weight:600; }
  .team-table { width:100%; border-collapse:collapse; }
  .team-table thead tr { background:var(--surface2); border-bottom:2px solid var(--gold); }
  .team-table th { padding:0.65rem 0.5rem; font-family:'DM Mono',monospace; font-size:0.65rem; letter-spacing:2px; text-transform:uppercase; font-weight:500; text-align:left; }
  .th-team{color:var(--text); width:180px;}
  .th-8{color:var(--gold);text-align:center;font-size:0.85rem;font-weight:800;letter-spacing:1px;padding:0.65rem 2rem;min-width:140px;}
  .th-3{color:var(--blue);text-align:center;font-size:0.85rem;font-weight:800;letter-spacing:1px;padding:0.65rem 2rem;min-width:140px;}
  .th-snake{color:var(--green);text-align:center;font-size:0.85rem;font-weight:800;letter-spacing:1px;padding:0.65rem 2rem;min-width:160px;}
  .th-act{color:var(--muted);text-align:center;}
  .team-table tbody tr { border-bottom:1px solid var(--border); transition:background 0.15s; }
  .team-table tbody tr:hover { background:rgba(255,255,255,0.02); }
  .team-table tbody tr.done-row { background:rgba(240,192,64,0.03); }
  .team-table td { padding:0.7rem 0.75rem; vertical-align:middle; }
  .td-num { font-family:'DM Mono',monospace; font-size:0.7rem; color:var(--muted); width:28px; }
  .td-name { font-weight:600; font-size:0.9rem; line-height:1.3; }
  .td-owner { font-family:'DM Mono',monospace; font-size:0.68rem; color:var(--muted); margin-top:0.15rem; }
  .comm-badge { display:inline-block; background:var(--gold); color:var(--bg); font-size:0.55rem; padding:0.1rem 0.4rem; font-family:'DM Mono',monospace; letter-spacing:1px; vertical-align:middle; margin-left:0.4rem; font-weight:700; }
  .pick-cell { text-align:center; width:140px; padding:0.7rem 2rem; }
  .pick-badge { display:inline-flex; align-items:center; justify-content:center; width:46px; height:46px; font-family:'Orbitron',monospace; font-weight:700; font-size:1.2rem; border:2px solid var(--border); color:var(--border); background:var(--surface); }
  .pick-badge.show-gold  { border-color:var(--gold);  color:var(--gold);  background:rgba(240,192,64,0.08);  text-shadow:0 0 10px rgba(240,192,64,0.5); animation:popIn 0.4s cubic-bezier(0.34,1.56,0.64,1); }
  .pick-badge.show-blue  { border-color:var(--blue);  color:var(--blue);  background:rgba(64,160,232,0.08);  text-shadow:0 0 10px rgba(64,160,232,0.5); animation:popIn 0.4s cubic-bezier(0.34,1.56,0.64,1); }
  .pick-badge.show-green { border-color:var(--green); color:var(--green); background:rgba(64,232,128,0.08); text-shadow:0 0 10px rgba(64,232,128,0.5); animation:popIn 0.4s cubic-bezier(0.34,1.56,0.64,1); }
  @keyframes popIn { 0%{transform:scale(0.2) rotate(-15deg);opacity:0;} 100%{transform:scale(1) rotate(0deg);opacity:1;} }
  .act-cell { text-align:center; width:260px; }
  .btn-pair { display:flex; gap:0.5rem; justify-content:center; flex-wrap:wrap; }
  .pick-btn { padding:0.5rem 0.85rem; border:none; font-family:'Bebas Neue',sans-serif; font-size:0.95rem; letter-spacing:2px; cursor:pointer; transition:all 0.15s; clip-path:polygon(6px 0%,100% 0%,calc(100% - 6px) 100%,0% 100%); white-space:nowrap; }
  .pick-btn.gold-btn  { background:var(--gold);  color:var(--bg); box-shadow:0 2px 12px rgba(240,192,64,0.3); }
  .pick-btn.gold-btn:hover:not(:disabled)  { background:var(--gold2); transform:translateY(-1px); box-shadow:0 4px 20px rgba(240,192,64,0.5); }
  .pick-btn.green-btn { background:var(--green); color:var(--bg); box-shadow:0 2px 12px rgba(64,232,128,0.3); }
  .pick-btn.green-btn:hover:not(:disabled) { background:#70ffaa; transform:translateY(-1px); box-shadow:0 4px 20px rgba(64,232,128,0.5); }
  .pick-btn:disabled { opacity:0.3; cursor:not-allowed; transform:none !important; box-shadow:none !important; }
  .done-label { font-family:'DM Mono',monospace; font-size:0.68rem; color:var(--green); letter-spacing:1px; }
  .summary-panel { display:none; margin-top:2rem; background:var(--surface); border:2px solid var(--gold); padding:1.5rem; }
  .summary-panel.visible { display:block; animation:fadeIn 0.5s ease; }
  @keyframes fadeIn { from{opacity:0;transform:translateY(10px);} to{opacity:1;transform:translateY(0);} }
  .summary-title { font-family:'Bebas Neue',sans-serif; font-size:2rem; letter-spacing:4px; color:var(--gold); text-align:center; margin-bottom:0.25rem; }
  .summary-sub   { font-family:'DM Mono',monospace; font-size:0.72rem; color:var(--muted); text-align:center; margin-bottom:1.5rem; }
  .summary-actions { display:flex; gap:1rem; justify-content:center; flex-wrap:wrap; margin-bottom:1.5rem; }
  .big-btn { padding:0.85rem 2rem; font-family:'Bebas Neue',sans-serif; font-size:1.2rem; letter-spacing:3px; border:none; cursor:pointer; transition:all 0.2s; clip-path:polygon(8px 0%,100% 0%,calc(100% - 8px) 100%,0% 100%); background:var(--gold); color:var(--bg); box-shadow:0 4px 20px rgba(240,192,64,0.3); }
  .big-btn:hover { background:var(--gold2); transform:translateY(-2px); box-shadow:0 6px 30px rgba(240,192,64,0.5); }
  .snake-round-block { margin-bottom:1rem; }
  .snake-round-label { font-family:'Bebas Neue',sans-serif; font-size:0.85rem; letter-spacing:2px; padding:0.3rem 0.75rem; display:inline-block; margin-bottom:0.4rem; }
  .snake-round-label.fwd { background:rgba(64,232,128,0.1); color:var(--green); border-left:3px solid var(--green); }
  .snake-round-label.rev { background:rgba(64,160,232,0.1); color:var(--blue);  border-left:3px solid var(--blue); }
  .snake-picks-row { display:flex; flex-wrap:wrap; gap:0.3rem; }
  .snake-chip { background:var(--surface2); border:1px solid var(--border); padding:0.3rem 0.6rem; font-family:'DM Mono',monospace; font-size:0.68rem; color:var(--text); }
  .chip-num{font-weight:700;} .chip-num.fwd{color:var(--green);} .chip-num.rev{color:var(--blue);}
  .confetti-wrap { position:fixed; inset:0; pointer-events:none; z-index:999; overflow:hidden; }
  .confetti-piece { position:absolute; top:-10px; animation:cffall linear forwards; }
  @keyframes cffall { to{transform:translateY(110vh) rotate(720deg);opacity:0;} }

  /* STATUS OVERLAY */
  .status-overlay { position:fixed; inset:0; background:rgba(8,8,16,0.85); z-index:500; display:flex; align-items:center; justify-content:center; flex-direction:column; gap:1rem; }
  .status-overlay.hidden { display:none; }
  .status-spinner { width:40px; height:40px; border:3px solid var(--border); border-top-color:var(--gold); border-radius:50%; animation:spin 0.8s linear infinite; }
  @keyframes spin { to{transform:rotate(360deg);} }
  .status-msg { font-family:'DM Mono',monospace; font-size:0.85rem; color:var(--gold); letter-spacing:2px; }
  .status-err { font-family:'DM Mono',monospace; font-size:0.8rem; color:var(--red); letter-spacing:1px; text-align:center; max-width:400px; line-height:1.6; }

  /* PICKS MODAL */
  .picks-modal-overlay { position:fixed; inset:0; background:rgba(0,0,0,0.75); z-index:1000; display:flex; align-items:center; justify-content:center; padding:1rem; }
  .picks-modal-overlay.hidden { display:none; }
  .picks-modal { background:#0f0f1c; border:2px solid #f0c040; max-width:520px; width:100%; padding:2rem; position:relative; }
  .picks-modal-title { font-family:'Orbitron',monospace; font-size:1.1rem; font-weight:900; color:#f0c040; letter-spacing:3px; text-align:center; margin-bottom:0.25rem; }
  .picks-modal-team { font-family:'DM Mono',monospace; font-size:0.8rem; color:#ffffff; text-align:center; letter-spacing:1px; margin-bottom:1.5rem; }
  .picks-modal-row { display:flex; align-items:center; justify-content:space-between; padding:0.75rem 1rem; margin-bottom:0.5rem; background:#16162a; border-left:4px solid; }
  .picks-modal-row.gold-row { border-color:#f0c040; }
  .picks-modal-row.blue-row { border-color:#40a0e8; }
  .picks-modal-row.green-row { border-color:#40e880; }
  .picks-modal-label { font-family:'DM Mono',monospace; font-size:0.78rem; letter-spacing:1px; font-weight:600; }
  .picks-modal-row.gold-row .picks-modal-label { color:#f0c040; }
  .picks-modal-row.blue-row .picks-modal-label { color:#40a0e8; }
  .picks-modal-row.green-row .picks-modal-label { color:#40e880; }
  .picks-modal-num { font-family:'Orbitron',monospace; font-size:2rem; font-weight:900; }
  .picks-modal-row.gold-row .picks-modal-num { color:#f0c040; text-shadow:0 0 12px rgba(240,192,64,0.6); }
  .picks-modal-row.blue-row .picks-modal-num { color:#40a0e8; text-shadow:0 0 12px rgba(64,160,232,0.6); }
  .picks-modal-row.green-row .picks-modal-num { color:#40e880; text-shadow:0 0 12px rgba(64,232,128,0.6); }
  .picks-modal-send { display:block; width:100%; margin-top:1.5rem; padding:0.85rem; background:#f0c040; color:#080810; font-family:'Bebas Neue',sans-serif; font-size:1.2rem; letter-spacing:3px; border:none; cursor:pointer; transition:all 0.2s; }
  .picks-modal-send:hover { background:#ffda70; transform:translateY(-1px); }
  .picks-modal-close { position:absolute; top:0.75rem; right:0.75rem; background:none; border:none; color:#60607a; font-family:'DM Mono',monospace; font-size:0.7rem; cursor:pointer; letter-spacing:1px; }
  .picks-modal-close:hover { color:#ffffff; }

  /* DIRECTORY */
  .dir-ticker { background:var(--gold); color:var(--bg); padding:0.4rem 0; overflow:hidden; white-space:nowrap; font-family:'DM Mono',monospace; font-size:0.75rem; font-weight:500; letter-spacing:1px; }
  .dir-ticker-inner { display:inline-block; animation:scroll 40s linear infinite; }
  @keyframes scroll { from{transform:translateX(100vw);} to{transform:translateX(-100%);} }
  .dir-header { border-bottom:2px solid var(--gold); padding:1.25rem 2rem; display:flex; align-items:center; justify-content:space-between; background:var(--bg); flex-wrap:wrap; gap:0.75rem; }
  .dir-logo { display:flex; align-items:baseline; gap:0.6rem; }
  .dir-logo-main { font-family:'Bebas Neue',sans-serif; font-size:2.5rem; color:var(--gold); letter-spacing:4px; line-height:1; }
  .dir-logo-sub  { font-family:'DM Mono',monospace; font-size:0.72rem; color:var(--muted); letter-spacing:2px; text-transform:uppercase; }
  .dir-header-stats { display:flex; gap:1.5rem; font-family:'DM Mono',monospace; font-size:0.72rem; color:var(--muted); text-transform:uppercase; letter-spacing:1px; }
  .dir-header-stats span { color:var(--gold); font-size:1rem; display:block; }
  .dir-toolbar { padding:1rem 2rem; background:var(--surface); border-bottom:1px solid var(--border); display:flex; gap:1rem; align-items:center; flex-wrap:wrap; }
  .dir-search { flex:1; min-width:220px; background:var(--bg); border:1px solid var(--border); color:var(--text); padding:0.6rem 1rem; font-family:'DM Sans',sans-serif; font-size:0.9rem; outline:none; transition:border-color 0.2s; }
  .dir-search:focus { border-color:var(--gold); }
  .dir-search::placeholder { color:var(--muted); }
  .dir-count { font-family:'DM Mono',monospace; font-size:0.72rem; color:var(--muted); white-space:nowrap; }
  .dir-count strong { color:var(--gold); }
  .dir-table-wrap { padding:1.5rem 2rem; overflow-x:auto; }
  .dir-table { width:100%; border-collapse:collapse; min-width:1200px; }
  .dir-table thead tr { background:var(--surface2); border-bottom:2px solid var(--gold); }
  .dir-table th { padding:0.65rem 0.85rem; text-align:left; font-family:'DM Mono',monospace; font-size:0.62rem; letter-spacing:2px; text-transform:uppercase; font-weight:500; white-space:nowrap; }
  .dth-num{color:var(--muted);width:32px;} .dth-team{color:var(--gold);} .dth-owner{color:var(--gold);} .dth-phone{color:var(--gold);} .dth-email{color:var(--blue);} .dth-gm{color:var(--green);} .dth-gme{color:var(--blue);}
  .dir-table tbody tr { border-bottom:1px solid var(--border); transition:background 0.15s; }
  .dir-table tbody tr:hover { background:var(--surface); }
  .dir-table tbody tr.comm-row { border-left:3px solid var(--red); }
  .dir-table td { padding:0.8rem 0.85rem; vertical-align:top; font-size:0.88rem; }
  .dtd-num{font-family:'DM Mono',monospace;font-size:0.7rem;color:var(--muted);text-align:center;vertical-align:middle;}
  .dtd-team{font-family:'Bebas Neue',sans-serif;font-size:1.05rem;color:var(--gold);letter-spacing:1.5px;vertical-align:middle;white-space:nowrap;}
  .dir-comm-badge{display:inline-block;background:var(--gold);color:var(--bg);font-family:'DM Mono',monospace;font-size:0.52rem;padding:0.1rem 0.35rem;letter-spacing:1px;vertical-align:middle;margin-left:0.4rem;font-weight:700;}
  .dtd-owner{font-weight:600;color:var(--text);white-space:nowrap;vertical-align:middle;}
  .dtd-phone{font-family:'DM Mono',monospace;font-size:0.8rem;color:var(--muted);white-space:nowrap;vertical-align:middle;}
  .dtd-email{vertical-align:middle;}
  .dtd-email a{font-family:'DM Mono',monospace;font-size:0.78rem;color:var(--blue);text-decoration:none;display:block;}
  .dtd-email a:hover{text-decoration:underline;color:#70c0ff;}
  .dtd-gm-name{font-size:0.88rem;font-weight:600;color:var(--green);display:block;white-space:nowrap;}
  .dtd-gm-name+.dtd-gm-name{margin-top:0.5rem;padding-top:0.5rem;border-top:1px solid var(--border);}
  .dtd-gm-email{vertical-align:top;}
  .dtd-gm-email a{font-family:'DM Mono',monospace;font-size:0.78rem;color:var(--blue);text-decoration:none;display:block;}
  .dtd-gm-email a:hover{text-decoration:underline;color:#70c0ff;}
  .gm-email-group+.gm-email-group{margin-top:0.5rem;padding-top:0.5rem;border-top:1px solid var(--border);}
  .dir-dash{color:var(--border);font-family:'DM Mono',monospace;font-size:0.72rem;}
  .dir-no-results{text-align:center;color:var(--muted);font-family:'DM Mono',monospace;padding:3rem;font-size:0.85rem;letter-spacing:1px;display:none;}
</style>
</head>
<body>

<div class="confetti-wrap" id="confetti"></div>

<!-- PICKS CONFIRMATION MODAL -->
<div class="picks-modal-overlay" id="picks-modal-overlay" style="display:none;">
  <div class="picks-modal">
    <button class="picks-modal-close" onclick="closePicksModal()">âœ• CLOSE</button>
    <div class="picks-modal-title">ğŸ‰ YOUR PICKS ARE IN!</div>
    <div class="picks-modal-team" id="modal-team-name"></div>
    <div class="picks-modal-row gold-row">
      <span class="picks-modal-label">ğŸ’° $8 LIGHTNING ROUND (Round 8)</span>
      <span class="picks-modal-num" id="modal-p8">â€”</span>
    </div>
    <div class="picks-modal-row blue-row">
      <span class="picks-modal-label">ğŸ’µ $3 LIGHTNING ROUND (Round 13)</span>
      <span class="picks-modal-num" id="modal-p3">â€”</span>
    </div>
    <div class="picks-modal-row green-row">
      <span class="picks-modal-label">ğŸ RESERVE ROUND SEED</span>
      <span class="picks-modal-num" id="modal-snake">â€”</span>
    </div>
    <button class="picks-modal-send" id="modal-send-btn" onclick="doSendEmail()">ğŸ“§ SEND EMAIL TO ALL 14 TEAMS</button>
  </div>
</div>

<!-- STATUS OVERLAY -->
<div class="status-overlay hidden" id="status-overlay">
  <div class="status-spinner" id="status-spinner"></div>
  <div class="status-msg" id="status-msg">LOADINGâ€¦</div>
  <div class="status-err hidden" id="status-err"></div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     PAGE 1: DRAFT RANDOMIZER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page active" id="page-randomizer">
  <div class="header">
    <div class="title-main">BADBALL DRAFT RANDOMIZER</div>
    <div class="title-sub">Badball 2026 Â· Lightning Rounds Â· Bench Snake Draft</div>
  </div>
  <div class="progress-banner">
    <div class="prog-text"><strong id="prog-count">0</strong> / 14 teams completed</div>
    <div class="prog-bar-wrap"><div class="prog-bar-fill" id="prog-bar"></div></div>
    <button class="reset-btn" onclick="resetAll()">â†º Reset All Picks</button>
  </div>
  <div class="main">
    <div class="instructions">
      <strong style="color:#e84040;">HOW TO USE:</strong>&nbsp; Each team click just the two buttons under your team's name to randomly generate your team's draft order (1â€“14) for the
      <span class="gold-text">$8 Lightning Round in Round 8</span> and for the <span class="green-text">Bench Snake Draft</span> after the auction is over.
      Note that your team's <span class="blue-text">$3 Lightning Round in Round 13</span> draft order will automatically be determined as the inverse of your $8 Lightning Round pick.
      Once all 14 teams have hit their 2 buttons and randomly been awarded a draft slot for Round 8, Round 13 and Bench Snake rounds,
      <strong>An Excel file with everyone's draft order will automatically be generated, once all 14 teams have clicked on their random draft buttons.</strong>
      <br><br>
      <strong style="color:#e84040;">ğŸ“§ IMPORTANT â€” AFTER CLICKING BOTH BUTTONS:</strong> Once you have clicked both your <span class="gold-text">$8 Pick</span> and <span class="green-text">Reserve Round Seed</span> buttons,
      a Gmail window will automatically open with a pre-filled email to all 14 teams announcing your picks. <strong>Please click Send</strong> so everyone is notified.
      <br><br>
      <strong style="color:#e84040;">âš ï¸ POP-UP BLOCKED?</strong> If your browser blocks the Gmail window, you will see a small <strong>"Pop-up blocked"</strong> message in your browser's address bar.
      Just click it and select <strong>Allow</strong> â€” the Gmail window will then open and you can send the email.
      <br><br>
      <button class="nav-btn" onclick="showPage('directory')" style="border-color:#40a0e8;color:#40a0e8;font-weight:bold;">ğŸ“‹ View Team Directory â€” Phones &amp; Emails</button>
      <br><br>Thanks, <strong>Ed</strong>
    </div>
    <table class="team-table">
      <thead>
        <tr>
          <th class="th-team" colspan="2">Team</th>
          <th class="th-8">ğŸ’° $8 PICK<br><span style="font-size:0.7rem;font-weight:600;">Round 8</span></th>
          <th class="th-3">ğŸ’µ $3 PICK<br><span style="font-size:0.7rem;font-weight:600;">Round 13</span></th>
          <th class="th-snake">ğŸ RESERVE ROUND SEED<br><span style="font-size:0.7rem;font-weight:600;">Bench Draft</span></th>
          <th class="th-act">Actions</th>
        </tr>
      </thead>
      <tbody id="team-tbody"></tbody>
    </table>
    <div class="summary-panel" id="summary-panel">
      <div class="summary-title">ğŸ† ALL PICKS REVEALED</div>
      <div class="summary-sub">Complete draft order â€” Badball Senior League 2026</div>
      <div class="summary-actions">
        <button class="big-btn" onclick="sendSummaryEmail()">ğŸ“§ EMAIL FULL SUMMARY TO ALL TEAMS</button>
      </div>
      <div id="summary-content"></div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     PAGE 2: TEAM DIRECTORY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page" id="page-directory">
  <div class="dir-ticker">
    <div class="dir-ticker-inner">
      âš¾ BADBALL SENIOR LEAGUE 2026 â€” TEAM DIRECTORY &nbsp;|&nbsp;
      Dos Reyes de los Perros Locos &nbsp;Â·&nbsp; Negative Carey &nbsp;Â·&nbsp; Psycho Bunnies/Goombahs &nbsp;Â·&nbsp; Badnews &nbsp;Â·&nbsp; Autodraft &nbsp;Â·&nbsp;
      Westchester Wolves &nbsp;Â·&nbsp; Suppastars &nbsp;Â·&nbsp; Diamond Cutters &nbsp;Â·&nbsp; Prestige Worldwide &nbsp;Â·&nbsp; Broadway Blues &nbsp;Â·&nbsp;
      Norcal &nbsp;Â·&nbsp; Jam &nbsp;Â·&nbsp; Rocketman &nbsp;Â·&nbsp; Rye Wranglers &nbsp;|&nbsp; âš¾ PLAY BALL 2026
    </div>
  </div>
  <div class="dir-header">
    <div class="dir-logo">
      <div class="dir-logo-main">BADBALL</div>
      <div class="dir-logo-sub">Senior League Â· Team Directory</div>
    </div>
    <div class="dir-header-stats">
      <div>Teams<br><span>14</span></div>
      <div>Season<br><span>2026</span></div>
    </div>
  </div>
  <div class="dir-toolbar">
    <input class="dir-search" type="text" id="dir-search" placeholder="Search team, owner, GM, phone or emailâ€¦" oninput="filterDirectory()">
    <div class="dir-count">Showing <strong id="dir-show-count">14</strong> of 14 teams</div>
    <button class="nav-btn gold-nav" onclick="showPage('randomizer')">ğŸ² Go to Draft Randomizer</button>
  </div>
  <div class="dir-table-wrap">
    <table class="dir-table">
      <thead>
        <tr>
          <th class="dth-num">#</th>
          <th class="dth-team">Team Name</th>
          <th class="dth-owner">Owner</th>
          <th class="dth-phone">Phone</th>
          <th class="dth-email">Owner Email</th>
          <th class="dth-gm">General Manager</th>
          <th class="dth-gme">GM Email(s)</th>
        </tr>
      </thead>
      <tbody id="dir-tbody"></tbody>
    </table>
    <div class="dir-no-results" id="dir-no-results">No teams match your search.</div>
  </div>
</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// JSONBIN CONFIG
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const BIN_ID    = '69988e94ae596e708f3a94b5';
const SECRET    = '$2a$10$04Q/wsx2Sx5pSVF3MyyAV.LlLKl/RFIlSPrTQrNkDYDtygpVAU1KO';
const BIN_URL   = `https://api.jsonbin.io/v3/b/${BIN_ID}`;
const HEADERS   = { 'Content-Type':'application/json', 'X-Master-Key': SECRET, 'X-Bin-Versioning': 'false' };

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PAGE SWITCHER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showPage(name) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.getElementById('page-' + name).classList.add('active');
  window.scrollTo(0,0);
  if (name === 'directory') {
    renderDirectory(DIR_TEAMS);
    document.getElementById('dir-search').value = '';
    document.getElementById('dir-show-count').textContent = 14;
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// STATUS UI
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showStatus(msg) {
  document.getElementById('status-overlay').classList.remove('hidden');
  document.getElementById('status-spinner').style.display = 'block';
  document.getElementById('status-msg').textContent = msg;
  document.getElementById('status-err').classList.add('hidden');
}
function hideStatus() {
  document.getElementById('status-overlay').classList.add('hidden');
}
function showError(msg) {
  document.getElementById('status-spinner').style.display = 'none';
  document.getElementById('status-msg').textContent = 'SOMETHING WENT WRONG';
  const errEl = document.getElementById('status-err');
  errEl.textContent = msg + '\n\nPlease try again or contact Ed Wolfe.';
  errEl.classList.remove('hidden');
  setTimeout(hideStatus, 6000);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// JSONBIN READ / WRITE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function readBin() {
  const res = await fetch(BIN_URL + '/latest', { headers: { 'X-Master-Key': SECRET } });
  if (!res.ok) throw new Error('Could not read from database');
  const json = await res.json();
  return json.record;
}

async function writeBin(data) {
  const res = await fetch(BIN_URL, {
    method: 'PUT',
    headers: HEADERS,
    body: JSON.stringify(data)
  });
  if (!res.ok) throw new Error('Could not save to database');
  return res.json();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TEAM DATA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const ADMIN = 'ewolfe@wolferesearch.com';
const TEAMS = [
  { id:1,  name:"Dos Reyes de los Perros Locos", owner:"Jeff Downey",      coowners:["Michael Downey"],                email:"jeffkdowney@gmail.com",           emails:["jeffkdowney@gmail.com"],                                                      comm:false },
  { id:2,  name:"Negative Carey",                owner:"Matt Carey",        coowners:[],                                email:"mattheca@icloud.com",             emails:["mattheca@icloud.com"],                                                        comm:false },
  { id:3,  name:"Psycho Bunnies/Goombahs",       owner:"Tom Molen",         coowners:[],                                email:"tom@afterglowmediagroup.com",     emails:["tom@afterglowmediagroup.com"],                                                comm:false },
  { id:4,  name:"Badnews",                        owner:"Rik Morse",         coowners:[],                                email:"rik@cfsdiner.com",                emails:["rik@cfsdiner.com"],                                                           comm:false },
  { id:5,  name:"Autodraft",                      owner:"John Spinello Jr.", coowners:["Chris Mangan"],                  email:"thejohnspinello@gmail.com",       emails:["thejohnspinello@gmail.com","mangan.chris@gmail.com"],                         comm:false },
  { id:6,  name:"Westchester Wolves",             owner:"Jackson Seymour",   coowners:["Poppa Seymour","Harry Seymour"], email:"jacksonsyemour1@gmail.com",       emails:["jacksonsyemour1@gmail.com","orioles4@outlook.com","harr1144@yahoo.com"],     comm:false },
  { id:7,  name:"Suppastars",                     owner:"Tom Suppa",         coowners:[],                                email:"pasuppa@optonline.net",           emails:["pasuppa@optonline.net"],                                                      comm:false },
  { id:8,  name:"Diamond Cutters",                owner:"Dean Rader",        coowners:[],                                email:"deanorader@gmail.com",            emails:["deanorader@gmail.com"],                                                       comm:false },
  { id:9,  name:"Prestige Worldwide",             owner:"Michael Martin",    coowners:[],                                email:"michael@martinwrightgroup.com",   emails:["michael@martinwrightgroup.com"],                                              comm:false },
  { id:10, name:"Broadway Blues",                 owner:"Tim Seymour",       coowners:[],                                email:"tim@triogem.com",                 emails:["tim@triogem.com"],                                                            comm:false },
  { id:11, name:"Norcal",                         owner:"Brad Buechler",     coowners:[],                                email:"Buechler111@gmail.com",           emails:["Buechler111@gmail.com"],                                                      comm:false },
  { id:12, name:"Jam",                            owner:"Sy Jacobs",         coowners:["Ryan Zacharia","Stone Warren"],   email:"syjacobs2000@gmail.com",          emails:["syjacobs2000@gmail.com","ryan.zacharia@gmail.com","stonewarrenj@gmail.com"], comm:false },
  { id:13, name:"Rocketman",                      owner:"John Spinello SR",  coowners:[],                                email:"johnspinello@yahoo.com",          emails:["johnspinello@yahoo.com"],                                                     comm:false },
  { id:14, name:"Rye Wranglers",                  owner:"Ed Wolfe",          coowners:["Kole Wolfe"],                    email:"ewolfe@wolferesearch.com",         emails:["ewolfe@wolferesearch.com","kole.m.wolfe@gmail.com"],                          comm:true  },
];
const ALL_EMAILS = [...new Set(TEAMS.flatMap(t => t.emails).concat([ADMIN]))].join(',');

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INIT â€” load current state from JSONBin
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let STATE = null; // live state from JSONBin

async function init() {
  showStatus('LOADING DRAFT DATAâ€¦');
  try {
    STATE = await readBin();
    renderTable();
    hideStatus();
  } catch(e) {
    showError('Could not connect to the draft database. Check your internet connection.');
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RENDER TABLE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderTable() {
  if (!STATE) return;
  const tbody = document.getElementById('team-tbody');
  tbody.innerHTML = TEAMS.map(t => {
    const p = STATE.picks[t.id] || {};
    const allDone = p.p8 != null && p.snake != null;
    const b8     = p.p8    != null ? `<div class="pick-badge show-gold">${p.p8}</div>`    : `<div class="pick-badge">â€”</div>`;
    const b3     = p.p3    != null ? `<div class="pick-badge show-blue">${p.p3}</div>`    : `<div class="pick-badge">â€”</div>`;
    const bSnake = p.snake != null ? `<div class="pick-badge show-green">${p.snake}</div>` : `<div class="pick-badge">â€”</div>`;
    const btn8 = p.p8 != null
      ? `<span class="done-label">âœ“ $8 SET</span>`
      : `<button class="pick-btn gold-btn" onclick="reveal8(${t.id})">ğŸ’° $8 PICK</button>`;
    const btnSnake = p.snake != null
      ? `<span class="done-label">âœ“ RESERVE SET</span>`
      : `<button class="pick-btn green-btn" onclick="revealSnake(${t.id})">ğŸ RESERVE ROUND SEED</button>`;
    return `
      <tr id="row-${t.id}" class="${allDone ? 'done-row' : ''}">
        <td class="td-num">${t.id}</td>
        <td>
          <div class="td-name">${t.name}${t.comm ? '<span class="comm-badge">â­ COMMISSIONER</span>' : ''}</div>
          <div class="td-owner">${t.owner}${t.coowners && t.coowners.length ? '<br>' + t.coowners.join('<br>') : ''}</div>
        </td>
        <td class="pick-cell">${b8}</td>
        <td class="pick-cell">${b3}</td>
        <td class="pick-cell">${bSnake}</td>
        <td class="act-cell"><div class="btn-pair">${btn8}${btnSnake}</div></td>
      </tr>`;
  }).join('');
  const done = TEAMS.filter(t => (STATE.picks[t.id]||{}).p8 != null && (STATE.picks[t.id]||{}).snake != null).length;
  document.getElementById('prog-count').textContent = done;
  document.getElementById('prog-bar').style.width = `${(done/14)*100}%`;
  if (done === 14) showSummary();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// REVEAL $8 PICK â€” pulls from central pool
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function reveal8(id) {
  if (!STATE) return;
  if ((STATE.picks[id]||{}).p8 != null) return;
  if (STATE.pool8.length === 0) { alert('All $8 picks have been assigned!'); return; }
  showStatus('ASSIGNING YOUR $8 PICKâ€¦');
  try {
    STATE = await readBin();
    if ((STATE.picks[id]||{}).p8 != null) { hideStatus(); renderTable(); return; }
    if (STATE.pool8.length === 0) { hideStatus(); return; }
    const idx8 = Math.floor(Math.random() * STATE.pool8.length);
    const pick8 = STATE.pool8[idx8];
    const pick3 = 15 - pick8;
    STATE.pool8 = STATE.pool8.filter((_,i) => i !== idx8);
    if (!STATE.picks[id]) STATE.picks[id] = {};
    STATE.picks[id].p8 = pick8;
    STATE.picks[id].p3 = pick3;
    await writeBin(STATE);
    hideStatus();
    renderTable();
    spawnConfetti(pick8 <= 3 ? 25 : 8);
    // Send combined email only when BOTH picks are done
    if (STATE.picks[id].snake != null) sendTeamEmail(id);
  } catch(e) {
    showError('Failed to save your $8 pick. Please try again.');
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// REVEAL SNAKE PICK â€” pulls from central pool
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function revealSnake(id) {
  if (!STATE) return;
  if ((STATE.picks[id]||{}).snake != null) return;
  if (STATE.poolSnake.length === 0) { alert('All Reserve Round seeds have been assigned!'); return; }
  showStatus('ASSIGNING YOUR RESERVE ROUND SEEDâ€¦');
  try {
    STATE = await readBin();
    if ((STATE.picks[id]||{}).snake != null) { hideStatus(); renderTable(); return; }
    if (STATE.poolSnake.length === 0) { hideStatus(); return; }
    const idxSnake = Math.floor(Math.random() * STATE.poolSnake.length);
    const snake = STATE.poolSnake[idxSnake];
    STATE.poolSnake = STATE.poolSnake.filter((_,i) => i !== idxSnake);
    if (!STATE.picks[id]) STATE.picks[id] = {};
    STATE.picks[id].snake = snake;
    await writeBin(STATE);
    hideStatus();
    renderTable();
    spawnConfetti(snake <= 3 ? 25 : 8);
    // Send combined email only when BOTH picks are done
    if (STATE.picks[id].p8 != null) sendTeamEmail(id);
  } catch(e) {
    showError('Failed to save your Reserve Round seed. Please try again.');
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TEAM ANNOUNCEMENT â€” shows modal with picks, then email
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let pendingEmailData = null;
let countdownTimer   = null;

function sendTeamEmail(id) {
  const t = TEAMS.find(x => x.id === id);
  const p = STATE.picks[id];
  const roundLines = [1,2,3,4,5,6].map(r => {
    const fwd = r%2===1;
    return `    Round ${r} (${fwd?'1\u219214':'14\u21921'}): Pick #${fwd ? p.snake : 15-p.snake}`;
  });
  const doneSoFar = TEAMS.filter(x => (STATE.picks[x.id]||{}).p8 != null && (STATE.picks[x.id]||{}).snake != null).length;
  const statusLines = TEAMS.map(x => {
    const xp = STATE.picks[x.id]||{};
    const status = (xp.p8 != null && xp.snake != null)
      ? `$8:#${String(xp.p8).padStart(2)}  $3:#${String(xp.p3).padStart(2)}  Snake:#${String(xp.snake).padStart(2)}`
      : `(pending)`;
    return `  ${x.name.padEnd(40)} ${status}`;
  });
  const body = [
    `BADBALL SENIOR LEAGUE 2026 â€” DRAFT PICKS ASSIGNED`,``,
    `${t.name} (${t.owner}) has been randomly assigned the following draft slots:`,``,
    `  ğŸ’°  $8 Lightning Round  (Round 8):   Pick #${p.p8}`,
    `  ğŸ’µ  $3 Lightning Round  (Round 13):  Pick #${p.p3}  (inverse of $8 pick)`,
    `  ğŸ  Reserve Round Seed  (Snake):     Seed #${p.snake}`,``,
    `  Reserve Round Snake picks by round:`,
    ...roundLines,``,
    `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`,
    `TEAMS COMPLETED: ${doneSoFar} of 14`,
    `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`,
    ...statusLines,``,
    `â€” Ed Wolfe, Commissioner Â· Badball Senior League 2026`
  ].join('\n');

  // Store email for later
  pendingEmailData = {
    to:      ALL_EMAILS,
    subject: `Badball 2026 Â· ${t.name} â€” Picks Assigned ($8 #${p.p8} Â· $3 #${p.p3} Â· Snake #${p.snake})`,
    body
  };

  // Populate modal
  document.getElementById('modal-team-name').textContent = t.name + '  Â·  ' + t.owner;
  document.getElementById('modal-p8').textContent    = '#' + p.p8;
  document.getElementById('modal-p3').textContent    = '#' + p.p3;
  document.getElementById('modal-snake').textContent = '#' + p.snake;

  // Show modal â€” user clicks button when ready
  document.getElementById('picks-modal-overlay').style.display = 'flex';
  document.body.style.overflow = 'hidden';
}

function doSendEmail() {
  if (pendingEmailData) {
    const gmailUrl = 'https://mail.google.com/mail/?view=cm'
      + '&to='   + encodeURIComponent(pendingEmailData.to)
      + '&su='   + encodeURIComponent(pendingEmailData.subject)
      + '&body=' + encodeURIComponent(pendingEmailData.body);
    window.open(gmailUrl, '_blank');
  }
  closePicksModal();
}

function closePicksModal() {
  document.getElementById('picks-modal-overlay').style.display = 'none';
  document.body.style.overflow = '';
  pendingEmailData = null;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SUMMARY
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showSummary() {
  spawnConfetti(60);
  document.getElementById('summary-panel').classList.add('visible');
  const by8     = [...TEAMS].sort((a,b) => STATE.picks[a.id].p8    - STATE.picks[b.id].p8);
  const bySnake = [...TEAMS].sort((a,b) => STATE.picks[a.id].snake - STATE.picks[b.id].snake);
  let html = `
    <table class="team-table" style="margin-bottom:1.5rem">
      <thead><tr>
        <th class="th-team" colspan="2">Team</th>
        <th class="th-8">$8 Pick</th><th class="th-3">$3 Pick</th><th class="th-snake">Reserve Seed</th>
      </tr></thead>
      <tbody>
        ${by8.map(t=>`<tr>
          <td class="td-num">${t.id}</td>
          <td><div class="td-name">${t.name}</div><div class="td-owner">${t.owner}</div></td>
          <td class="pick-cell"><div class="pick-badge show-gold">${STATE.picks[t.id].p8}</div></td>
          <td class="pick-cell"><div class="pick-badge show-blue">${STATE.picks[t.id].p3}</div></td>
          <td class="pick-cell"><div class="pick-badge show-green">${STATE.picks[t.id].snake}</div></td>
        </tr>`).join('')}
      </tbody>
    </table>
    <div style="font-family:'Bebas Neue',sans-serif;font-size:1.3rem;letter-spacing:3px;color:var(--green);margin-bottom:1rem;">ğŸ BENCH SNAKE DRAFT â€” ALL 6 ROUNDS</div>`;
  let gp=1;
  for(let r=1;r<=6;r++){
    const fwd=r%2===1;
    const order=fwd?[...bySnake]:[...bySnake].reverse();
    const cls=fwd?'fwd':'rev';
    html+=`<div class="snake-round-block">
      <div class="snake-round-label ${cls}">Round ${r} Â· ${fwd?'Picks 1â†’14':'Picks 14â†’1'}</div>
      <div class="snake-picks-row">
        ${order.map(t=>`<div class="snake-chip"><span class="chip-num ${cls}">#${gp++}</span> ${t.name}</div>`).join('')}
      </div></div>`;
  }
  document.getElementById('summary-content').innerHTML = html;
}

function sendSummaryEmail() {
  const by8     = [...TEAMS].sort((a,b) => STATE.picks[a.id].p8    - STATE.picks[b.id].p8);
  const by3     = [...TEAMS].sort((a,b) => STATE.picks[a.id].p3    - STATE.picks[b.id].p3);
  const bySnake = [...TEAMS].sort((a,b) => STATE.picks[a.id].snake - STATE.picks[b.id].snake);
  let lines = [
    `BADBALL SENIOR LEAGUE 2026 â€” COMPLETE DRAFT ORDER`,
    `Generated automatically once all 14 teams submitted their picks.`,``,
    `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`,
    `ğŸ’° $8 LIGHTNING ROUND ORDER (Round 8)`,
    `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`,
    ...by8.map(t=>`  Pick #${String(STATE.picks[t.id].p8).padStart(2)}   |  ${t.name} (${t.owner})`),``,
    `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`,
    `ğŸ’µ $3 LIGHTNING ROUND ORDER (Round 13)`,
    `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`,
    ...by3.map(t=>`  Pick #${String(STATE.picks[t.id].p3).padStart(2)}   |  ${t.name} (${t.owner})`),``,
    `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`,
    `ğŸ RESERVE ROUND SNAKE DRAFT â€” ALL 6 ROUNDS`,
    `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`,
  ];
  let gp=1;
  for(let r=1;r<=6;r++){
    const fwd=r%2===1;
    const order=fwd?[...bySnake]:[...bySnake].reverse();
    lines.push(``,`  ROUND ${r} (${fwd?'Picks 1â†’14':'Picks 14â†’1'})`);
    order.forEach((t,i)=>lines.push(`    Pick #${String(gp++).padStart(2)}   |  ${t.name} (${t.owner})`));
  }
  lines.push(``,`â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`,``,`Good luck everyone!`,`â€” Ed Wolfe, Commissioner Â· Badball Senior League 2026`);
  mailto(ALL_EMAILS, `Badball 2026 â€” COMPLETE DRAFT ORDER (All Rounds)`, lines.join('\n'));
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RESET â€” commissioner only
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function resetAll() {
  const pwd = prompt('Enter Commissioner password to reset all picks:');
  if (pwd === null) return;
  if (pwd !== 'badball') { alert('Incorrect password.'); return; }
  if (!confirm('Reset ALL picks? This will clear every team\'s picks and cannot be undone.')) return;
  showStatus('RESETTINGâ€¦');
  try {
    function shuffle(arr) {
      const a=[...arr];
      for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; }
      return a;
    }
    const fresh = {
      pool8:     shuffle([1,2,3,4,5,6,7,8,9,10,11,12,13,14]),
      poolSnake: shuffle([1,2,3,4,5,6,7,8,9,10,11,12,13,14]),
      picks: {}
    };
    await writeBin(fresh);
    STATE = fresh;
    document.getElementById('summary-panel').classList.remove('visible');
    renderTable();
    hideStatus();
  } catch(e) {
    showError('Reset failed. Please try again.');
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// HELPERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function mailto(to, subject, body) {
  // Opens Gmail compose in a new tab â€” works for everyone regardless of email app
  const gmailUrl = `https://mail.google.com/mail/?view=cm&to=${encodeURIComponent(to)}&su=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
  window.open(gmailUrl, '_blank');
}

function spawnConfetti(n) {
  const wrap=document.getElementById('confetti');
  const colors=['#f0c040','#e84040','#40a0e8','#40e880','#ffffff','#b06cf0'];
  for(let i=0;i<n;i++){
    const el=document.createElement('div');
    el.className='confetti-piece';
    const sz=5+Math.random()*8;
    el.style.cssText=`left:${Math.random()*100}%;width:${sz}px;height:${sz}px;background:${colors[Math.floor(Math.random()*colors.length)]};border-radius:${Math.random()>.5?'50%':'2px'};animation-duration:${1.5+Math.random()*2}s;animation-delay:${Math.random()*.5}s;`;
    wrap.appendChild(el);
    setTimeout(()=>el.remove(),3500);
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DIRECTORY DATA & LOGIC
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const DIR_TEAMS = [
  { id:1,  team:"Dos Reyes de los Perros Locos", firstName:"Jeff",     lastName:"Downey",   phone:"646-295-3794", ownerEmail:"jeffkdowney@gmail.com",        gms:[{name:"Michael Downey",  email1:"",                        email2:""}], comm:false },
  { id:2,  team:"Negative Carey",                firstName:"Matt",     lastName:"Carey",    phone:"914-861-5854", ownerEmail:"mattheca@icloud.com",           gms:[], comm:false },
  { id:3,  team:"Psycho Bunnies/Goombahs",       firstName:"Tom",      lastName:"Molen",    phone:"917-834-0986", ownerEmail:"tom@afterglowmediagroup.com",   gms:[], comm:false },
  { id:4,  team:"Badnews",                        firstName:"Rik",      lastName:"Morse",    phone:"774-994-0322", ownerEmail:"rik@cfsdiner.com",              gms:[], comm:false },
  { id:5,  team:"Autodraft",                      firstName:"John Jr.", lastName:"Spinello", phone:"917-428-6217", ownerEmail:"thejohnspinello@gmail.com",     gms:[{name:"Chris Mangan",    email1:"mangan.chris@gmail.com",  email2:""}], comm:false },
  { id:6,  team:"Westchester Wolves",             firstName:"Jackson",  lastName:"Seymour",  phone:"914-506-0222", ownerEmail:"jacksonsyemour1@gmail.com",     gms:[{name:"Poppa Seymour",   email1:"orioles4@outlook.com",    email2:""},{name:"Harry Seymour",email1:"harr1144@yahoo.com",email2:""}], comm:false },
  { id:7,  team:"Suppastars",                     firstName:"Tom",      lastName:"Suppa",    phone:"914-261-6205", ownerEmail:"pasuppa@optonline.net",         gms:[], comm:false },
  { id:8,  team:"Diamond Cutters",                firstName:"Dean",     lastName:"Rader",    phone:"973-830-9026", ownerEmail:"deanorader@gmail.com",          gms:[], comm:false },
  { id:9,  team:"Prestige Worldwide",             firstName:"Michael",  lastName:"Martin",   phone:"314-221-9613", ownerEmail:"michael@martinwrightgroup.com", gms:[], comm:false },
  { id:10, team:"Broadway Blues",                 firstName:"Tim",      lastName:"Seymour",  phone:"917-365-5505", ownerEmail:"tim@triogem.com",               gms:[], comm:false },
  { id:11, team:"Norcal",                         firstName:"Brad",     lastName:"Buechler", phone:"916-698-3812", ownerEmail:"Buechler111@gmail.com",         gms:[], comm:false },
  { id:12, team:"Jam",                            firstName:"Sy",       lastName:"Jacobs",   phone:"917-304-5977", ownerEmail:"syjacobs2000@gmail.com",        gms:[{name:"Ryan Zacharia",   email1:"ryan.zacharia@gmail.com", email2:""},{name:"Stone Warren",email1:"stonewarrenj@gmail.com",email2:""}], comm:false },
  { id:13, team:"Rocketman",                      firstName:"John SR",  lastName:"Spinello", phone:"201-314-5689", ownerEmail:"johnspinello@yahoo.com",        gms:[], comm:false },
  { id:14, team:"Rye Wranglers",                  firstName:"Ed",       lastName:"Wolfe",    phone:"917-886-5839", ownerEmail:"ewolfe@wolferesearch.com",       gms:[{name:"Kole Wolfe",      email1:"kole.m.wolfe@gmail.com",  email2:""}], comm:true  },
];

function renderDirectory(list) {
  const tbody=document.getElementById('dir-tbody');
  const noRes=document.getElementById('dir-no-results');
  document.getElementById('dir-show-count').textContent=list.length;
  if(list.length===0){tbody.innerHTML='';noRes.style.display='block';return;}
  noRes.style.display='none';
  tbody.innerHTML=list.map(t=>{
    let gmNamesHtml=`<span class="dir-dash">â€”</span>`;
    if(t.gms.length) gmNamesHtml=t.gms.map(gm=>`<span class="dtd-gm-name">${gm.name}</span>`).join('');
    let gmEmailsHtml=`<span class="dir-dash">â€”</span>`;
    if(t.gms.length&&t.gms.some(gm=>gm.email1)){
      gmEmailsHtml=t.gms.map(gm=>{
        const inner=gm.email1?`<a href="mailto:${gm.email1}">${gm.email1}</a>`:`<span class="dir-dash">â€”</span>`;
        return `<div class="gm-email-group">${inner}</div>`;
      }).join('');
    }
    return `<tr class="${t.comm?'comm-row':''}">
      <td class="dtd-num">${t.id}</td>
      <td class="dtd-team">${t.team}${t.comm?'<span class="dir-comm-badge">â­ COMM</span>':''}</td>
      <td class="dtd-owner">${t.firstName} ${t.lastName}</td>
      <td class="dtd-phone">${t.phone}</td>
      <td class="dtd-email"><a href="mailto:${t.ownerEmail}">${t.ownerEmail}</a></td>
      <td>${gmNamesHtml}</td>
      <td class="dtd-gm-email">${gmEmailsHtml}</td>
    </tr>`;
  }).join('');
}

function filterDirectory() {
  const q=document.getElementById('dir-search').value.toLowerCase().trim();
  if(!q){renderDirectory(DIR_TEAMS);return;}
  renderDirectory(DIR_TEAMS.filter(t=>
    t.team.toLowerCase().includes(q)||t.firstName.toLowerCase().includes(q)||
    t.lastName.toLowerCase().includes(q)||t.phone.includes(q)||
    t.ownerEmail.toLowerCase().includes(q)||
    t.gms.some(gm=>gm.name.toLowerCase().includes(q)||(gm.email1&&gm.email1.toLowerCase().includes(q)))
  ));
}

// â”€â”€ INIT â”€â”€
renderDirectory(DIR_TEAMS);
init();
</script>
</body>
</html>
